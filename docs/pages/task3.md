# Нагрузочное тестирование

## Задание

1. Разработать профиль нагрузки для системы
2. Реализовать профиль на любом инструменте НТ (разработать скрипт)
3. Задать нефункциональные требования по производительности к системе (SLO/SLA)
4. Найти максимальную производительность системы
5. Написать краткий вывод: где достигнута максимальная производительность, где узкое место в системе, для подтверждения привести графики.

## Выполнение

### Описание
Поскольку исследуемое приложение разрабтано специально для курса и мы не имеем продуктового описания системы и 
исторических данных, то дальнейшее НТ будет выполнено на введённых нами предположениях.

Предположим, что старания не напрасны и наша приложение погоды в дальнейшем будет использоваться диспетчерами
в каждом аэропорте РФ. Это объясяет потребность в высокой доступности приложения.

### Задать нефункциональные требования по производительности к системе (SLO/SLA)

#### SLA
Всего в РФ существует 86 эаропортов. Предположим что в каждой смене в каждом аэропорте деспетчеров не больше 100.

Бизнес подписал договор, по которому необходимо обеспечить выполнение `SLA = 99.95`. Время получения прогноза на текущий момент
времени должно быть не дольше `500ms`. Предположим, что `86 * 100 * 2 = 17200 RPM`.

Как поставщик данных наша компания обязуется производить обновление информации с датчиков каждую минуту. Предположим, что 
наши супер чувствительные приборы должны быть расположены в каждом городе. Всего в РФ `1100` городов.

#### SLO
Мы как техническая команда выставляем `SLO = 99.99`.

Поскольку наша цель соблюдать SLO, то опишем nfr по каждому эндпоинту.
Описание NFR для API приложения:
```
GET /cities/${id}
latency = 500ms
rpm = 17200 RPM
error = [5xx]

PUT /cities/${id}
latency = 500ms
rpm = 
error = [5xx]

GET /cities
latency = 500ms
rpm = 
error = [5xx]

POST /cities
latency = 600ms
rpm = 
error = [5xx]

GET /forecast/${id}
latency = 500ms
rpm = 
error = [5xx]

PUT /forecast/${id}
latency = 500ms
rpm = 
error = [5xx]

GET /forecast
latency = 500ms
rpm = 
error = [5xx]

POST /forecast
latency = 600ms
rpm = 
error = [5xx]

GET /WeatherForecast
latency = 500ms
rpm = 
error = [5xx]
```

### Разработать профиль нагрузки для системы
В рамках тестирования нас интересует провести следующие тесты:
1. Capacity - анализируем максимальную производительность системы при увеличении операция получения прогнозов и городов.
2. Capacity - анализируем максимальную производительность системы при увеличении датчиков погоды.
3. Stability - проверяем стабильность системы при чтении и создании прогнозов в системе.

#### 1. Capacity публичное API
При анализе максимальной производительности повышаем нагрузку 
на операции получения прогноза погоды и списка городов с

#### 2. Capacity для датчиков погоды

#### 3. Stability


### Поиск максимальной производительности системы

### Реализовать профиль на любом инструменте НТ (разработать скрипт)

### Написать краткий вывод: где достигнута максимальная производительность, где узкое место в системе, для подтверждения привести графики.



